{% extends "layout.njk" %}

{% block content %}
<div class="card table-container">

    <div class="header-filter">
    <a class="button" href="/teachers/create">Novo</a>
    <form action="/teachers" method="get">
    <input 
        type="text" 
        name="filter" 
        placeholder="Filtrar por nome ou materia"
        value={{filter}}
    >
    <button type="submit">Filtrar</button>
    </form>
    </div>
    <table>
        <thead>
            <tr>
                <th>Nome completo</th>
                <th>Acompanhamento</th>
                <th>Ação</th>   
            </tr>
        </thead>
        <tbody>
            {% for teacher in teachers %}
            <tr>
                <td><img src="{{teacher.avatar_url}}">{{ teacher.name }}</td>
                <td>
                    {% for area in teacher.subjects_taught %}
                        <span>

                        {{area}}
                        </span>
                    {% endfor %}
                </td>
                <td>
                    <a href="teachers/{{teacher.id}}">
                        Mais informações
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="pagination"
         data-page={{pagination.page}}
         data-total={{pagination.total}}
         data-filter={{filter}}
    ></div>
    
</div>
{% endblock content %}