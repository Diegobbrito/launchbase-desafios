{% extends "layout.njk" %}

{% block content %}

<div class="card">
    <form class="form-delete" action="/admin/chefs?_method=DELETE" method="post">
        <button type="submit" class="delete-button">Deletar</button>
        <input type="hidden" name="id" value="{{chef.id}}">
    </form>
    <form action="/admin/chefs?_method=PUT" method="post" enctype="multipart/form-data">
        <div class="header-chef-create">
            <h1>Editando chef</h1>
            <button type="submit">Salvar chef</button>
        </div>
        <h2>Nome</h2>
        <input type="text" value={{chef.name}} name="name">
        <input type="hidden" name="id" value={{chef.id}}>
        <h2>Avatar</h2>
        <div>
            <div id="photos-upload">
                <input 
                 id="photos-input"
                 type="file" 
                 name="photos"
                 accept="image/*"
                 value={{chef.file_id}}
                 onchange="PhotoUpload.handleFileInput(event,1)"
                >
                <p>Enviar avatar</p>
            </div>
        <div id="photos-preview">
            {% if files %}
                <div class="photo" id="{{files[0].id}}">
                    <img src="{{files[0].src}}" alt="{{files.image}}">
                    <i class="material-icons"
                        onclick="PhotoUpload.removeOldPhoto(event)"
                    >
                    close</i>
                </div>  
                <input type="hidden" name="removed_files">
            {% endif %}
    </form>
</div>
{% endblock content %}